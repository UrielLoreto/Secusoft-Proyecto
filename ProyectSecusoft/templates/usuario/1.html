{% extends 'base/index.html' %}
{% load static %}

{% block content %}
    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
              <div class="x_content">

                  <table id="datatable-responsive" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
                      <thead>
                            <tr>
                              <th scope="col">Id</th>
                              <th scope="col">Nombre</th>
                              <th scope="col">Apellidos</th>
                              <th scope="col">Tipo de persona</th>
                              <th scope="col">Correo electronico</th>
                              <th scope="col">Sexo</th>
                              <th scope="col">Fecha de registro</th>
                              <th scope="col">Editar</th>
                              <th scope="col">Eliminar</th>
                            </tr>
                      </thead>
                      <tbody>
                            {% for persona in object_list %}
                            <tr>
                              <td scope="row">{{ persona.id_persona }}</td>
                              <td>{{ persona.nombre }}</td>
                              <td>{{ persona.apellido }}</td>
                              <td>{{ persona.get_tipo_persona_display }}</td>
                              <td>{{ persona.correo }}</td>
                              <td>{{ persona.get_sexo_display }}</td>
                              <td>{{ persona.fecha_creacion }}</td>
                            <td><a href="" class="btn btn-primary" role="button">Editar<i class="fas fa-pencil-alt"></i></a></td>
                              <td><form action="" method="post" style="display: inline">{% csrf_token %}
                                    <button class="btn btn-danger" type="submit">Eliminar<i class="fas fa-trash-alt"></i></button>
                              </form>
                              </td>
                            </tr>
                            {% empty %}
                            <tr>
                              <td scope="row" colspan="6">No personas yet.</td>
                            </tr>
                            {% endfor %}
                      </tbody>
                </table>
            </div>
        </div>
    </div>
    {% block js %}
            <!-- Datatables -->
            <script src="{% static 'base/js/datatables/js/jquery.dataTables.js' %}"></script>
            <script src="{% static 'base/js/datatables/tools/js/dataTables.tableTools.js' %}"></script>

            <!-- pace -->
            <script src="{% static 'base/js/custom.min.js' %}"></script>
            <script type="text/javascript">
              $(document).ready(function() {
                $('#datatable').dataTable();
                $('#datatable-keytable').DataTable({
                  keys: true
                });
                $('#datatable-responsive').DataTable();
                $('#datatable-scroller').DataTable({
                  ajax: "{% static 'base/js/datatables/json/scroller.json' %}",
                  deferRender: true,
                  scrollY: 380,
                  scrollCollapse: true,
                  scroller: true
                });
                var table = $('#datatable-fixed-header').DataTable({
                  fixedHeader: true
                });
              });
              TableManageButtons.init();
            </script>
            <script type="text/javascript">
              $(document).ready(function() {
                $('#datatable').dataTable();
                $('#datatable-keytable').DataTable({
                  keys: true
                });
                $('#datatable-responsive').DataTable();
                $('#datatable-scroller').DataTable({
                  ajax: "{% static 'base/js/datatables/json/scroller.json' %}",
                  deferRender: true,
                  scrollY: 380,
                  scrollCollapse: true,
                  scroller: true
                });
                var table = $('#datatable-fixed-header').DataTable({
                  fixedHeader: true
                });
              });
              TableManageButtons.init();
            </script>
    {% endblock %}
{% endblock %}
